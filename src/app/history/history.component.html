<div class="history-container"></div>
<button (click)="goToHome()" class="back-btn">Back to Home</button>
<button (click)="exportCSV()" class="export-btn">Export History</button>
  <h2>Search History</h2>

  <div *ngIf="loading" class="loading">Loading history...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="!loading && history.length > 0">
    <thead>
      <tr>
        <th>Time</th>
        <th>Ticker</th>
        <th>Price</th>
        <th>Change</th>
        <th>Day Range</th>
        <th>Volume</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of history">
        <td>{{ item.time }}</td>
        <td>{{ item.ticker }}</td>
        <td>{{ item.price | number:'1.2-2' }}</td>
        <td [ngClass]="{'positive': item.change >= 0, 'negative': item.change < 0}">
          {{ item.change | number:'1.2-2' }}%
        </td>
        <td>{{ item.day_range }}</td>
        <td>{{ item.volume | number }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && history.length === 0" class="no-history">
    No history yet.
  </div>
